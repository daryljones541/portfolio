@model PersonalPortfolio.Models.PortfolioVM
@{
    ViewBag.Title = "ASP.NET Portfolio";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="@Url.Content("~/Content/home.css?modified=28072016")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/calendar.css?modified=28072016")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/jquery-ui.min.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/bjStyle.css?modified=28072016")" rel="stylesheet" type="text/css" />

<div class="well">
    <div class="row">
        <div id="image" class="col-xs-8 col-sm-5 col-md-4">
            <img src="~/Images/Daryl%20Jones.PNG" alt="Daryl P. Jones" />
        </div>
        <div id="headingText" class="col-xs-12 col-sm-7 col-md-8">
            <h1>Daryl P. Jones</h1>
            <p>
                Welcome to my <strong>ASP.NET portfolio</strong>.  I also have a <a href="~/PHP/Portfolio.php">PHP portfolio</a>.
                Below you'll find examples of
            </p>
            <ul>
                <li>
                    User Authentication
                </li>  
                <li>
                    Client Side Validation
                </li>  
                <li>
                    RESTful API Consumption
                </li>
                <li>
                    Entity Framework
                </li>  
                <li>
                    Bootstrap
                </li>
                <li>
                    JQuery
                </li>
                <li>
                    AJAX
                </li>
            </ul>
            <p  id="thankyou-top" style="clear:both;">
                Thank you for taking the time to view my work.
            </p>
        </div>
    </div>
</div>

<div class="col-md-6">
    <form id="login-form" onsubmit="checkUser(); return false;">
        <div class="well form-horizontal">
            <fieldset>
                <legend>User Authentication</legend>
                <p>
                    This form demonstrates my ability to securely manage users.  My user class inherits 
                    from IdentityUser, and to register, users must prove they are human and verify their 
                    email address by clicking on a link this site emails to them.
                </p>

                <div class="logged-in" style="display:none;">
                    <h4 style="text-align:center;">Welcome, <span id="welcome-username">@User.Identity.Name</span>. <span id="logout-button" class="btn btn-primary" style="margin-left:1em;">Logout</span></h4>
                    <span id="logout-message" class="error"></span>
                </div>

                <div class="logged-out" style="display:none;">
                    <p>
                        Check out my user registration page here:
                    </p>
                    <div style="text-align:center;">
                        <span id="register-button" class="btn btn-primary" style="margin-bottom:0.5em;text-align:center;" title="Go to the registration page" data-placement="right">Register</span>
                    </div>
                    <p>
                        If you've already registered, you can log in below.  Credentials are checked 
                        asynchronously.
                    </p>
                    <p>
                        You can also use my test account, which has an already populated
                        Event Calendar.  The username is user1 and the password is Password1.
                    </p>
                    <div class="form-group">
                        <label class="control-label col-md-4 required">Username</label>
                        <div class="col-md-8">
                            <input class="form-control text-box single-line" id="username" name="username" type="text" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 required">Password</label>
                        <div class="col-md-8">
                            <input class="form-control text-box single-line" id="password" name="password" type="password" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-offset-4 col-md-8">
                            <div id="login-error" class="error"></div>
                        </div>
                        <div style="text-align:center;">
                            <span id="login-button" class="btn btn-primary" title="Check credentials" data-placement="right">Login</span>
                        </div>
                    </div>
                    <label class="col-md-offset-9 required">Required</label>
                </div>

            </fieldset>
        </div>
    </form>
    <div class="well">
        <form>
            <fieldset>
                <legend>Event Calendar</legend>
            </fieldset>
            <p class="logged-out">
                Log in to store your events in the database.  Otherwise, events will be stored for the
                duration of this session for demonstration purposes.  I have preloaded two events for 
                today, one for last month, and one for next month.  You can add more events.  Events 
                are saved to and fetched from the server asynchronously.
            </p>
            <p class="logged-in">
                This is your own personal event calendar.  Any events you add are stored
                in a Microsoft SQL database using code first entity framework.
            </p>
        </form>
        
        <div id="calendar"></div>
        <div id="event-box"></div>
        <div class="row">
            <div class="col-md-8">
                <h4>
                    <img src="~/Images/282px-Golden_star.svg.png" style="width:10%" alt="Event Star" /> = Events<br />Click on any for details
                </h4>
            </div>
            <div class="col-md-4" style="text-align:right;">
                <br />
                <span id="addevent-button" class="btn btn-primary">Add Event</span>
            </div>
        </div>
    </div>
    <form id="weather-form" onsubmit="getWeather(); return false;">
        <div class="well form-horizontal">
            <fieldset>
                <legend>Powered by Weather Underground</legend>
                <p>This form demonstrates my ability to consume RESTful APIs.  Weather information is fetched asynchronously.</p>
                <div class="form-group">
                    <label class="control-label col-md-4 required">City</label>
                    <div class="col-md-8">
                        <input class="form-control text-box single-line" id="city" name="city" type="search" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4 required">State</label>
                    <div class="col-md-8">
                        @Html.DropDownListFor(model => model.StateDropDown, new SelectList(Model.StateDropDownList, "Value", "Text"), null, new { @class = "form-control", @id = "state" })
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-4 col-md-8">
                        <span id="weather-button" class="btn btn-primary">Get Weather</span>
                    </div>
                </div>
                <label class="col-md-offset-9 required">Required</label>
            </fieldset>
            <div id="weather"></div>
        </div>
    </form>
    
</div>

<div class="col-md-6">
    <form id="form1">
        <div class="wrapper">
            <div id="top">
                <h1 class="bjHeading">Blackjack</h1>
                <h4 class="bjHeading italics">Are you feeling lucky?</h4>
                <div style="text-align:center;">
                    <label>Player: <span id="playerScore">0</span></label>
                    <button ID="resetButton">Reset</button>
                    <label>Computer: <span id="dealerScore">0</span></label>
                </div>
            </div>
            <div id="bottom">
                <h3 id="playerLabel" class="playerLabels">Please Wait...</h3>
                <div id="playersArea">           
                    <img ID="pCard1" src="~/Images/Cards/black_back.jpg" alt="blackjack card" style="visibility:hidden;" />
                    <img ID="pCard2" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="pCard3" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="pCard4" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="pCard5" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="pCard6" src="~/Images/Cards/black_back.jpg" style="display:none;"  alt="blackjack card" />
                    <img ID="pCard7" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="pCard8" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="pCard9" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="pCard10" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="pCard11" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                </div>
                <div id="blackjackButtons">
                    <div ID="hitMeButton" class="blackjack-button">Hit Me!</div>
                    <div ID="standButton" class="blackjack-button">Stand</div>
                    <div ID="playAgainButton" class="blackjack-button disabled">Play Again</div>
                </div>
                <div id="computersArea">
                    <img ID="cCard1" src="~/Images/Cards/black_back.jpg" alt="blackjack card" style="visibility:hidden;" />
                    <img ID="cCard2" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard3" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard4" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard5" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard6" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard7" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard8" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard9" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard10" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                    <img ID="cCard11" src="~/Images/Cards/black_back.jpg" style="display:none;" alt="blackjack card" />
                </div>
                <h3 id="computerLabel" class="playerLabels">Game is Loading <img src="~/Images/Loading_2_transparent.gif" /></h3>
            </div>
        </div>
    </form>
    <form id="exampleForm">
        <div class="well form-horizontal">
            <fieldset>
                <legend>Async Form</legend>
                <p>
                    This form's data is submitted asynchronously to the server, and validation is handled
                    client side--all without leaving this page.  Submissions are stored
                    on the server on a per session basis for demonstration purposes.
                    Click the View All button to asynchronously fetch and view them.
                </p>
                <div class="form-group">
                    <label class="control-label col-md-4 required">Date of Visit</label>
                    <div class="col-md-8">
                        <input class="form-control text-box single-line" id="datePicker" name="Date" type="text" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4">How did you hear about us?</label>
                    <div class="col-md-8">
                        @Html.DropDownListFor(model => model.ReferDropDown, new SelectList(Model.ReferDropDownList, "Value", "Text"), null, new { @class = "form-control", @id = "referrer" })
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4">Name</label>
                    <div class="col-md-8">
                        <input class="form-control text-box single-line" id="name" name="Name" type="text" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4 required">Email</label>
                    <div class="col-md-8">
                        <input class="form-control text-box single-line" type="email" id="email" name="Email" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4">Phone</label>
                    <div class="col-md-8">
                        <input class="form-control text-box single-line" id="phone" name="Phone" type="tel" pattern="[\+]\d{2}[\(]\d{2}[\)]\d{4}[\-]\d{4}" value="">
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-4">Feedback</label>
                    <div class="col-md-8">
                        <textarea cols="50" id="feedback" name="Feedback" rows="5"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-5 col-md-7">
                        <span id="submit-button" class="btn btn-primary">Submit</span>
                        <span id="viewall-button" class="btn btn-primary col-md-offset-1" title="See Everything You've Submitted" data-placement="bottom">View All</span>
                    </div>
                </div>
                <label class="col-md-offset-4 error" id="error-summary"></label>
            </fieldset>
            <label class="required">Required</label>
        </div>
    </form>
</div>


<div class="modal fade" id="form-thankyou">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Form Submitted</h4>
            </div>
            <div class="modal-body">
                <p>Thank you!</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="feedback-table">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">View All Your Feedback</h4>
            </div>
            <div class="modal-body">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Referred By</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Feedback</th>
                        </tr>
                    </thead>
                    <tbody id="feedback-body"></tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-addevent">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 id="addEditTitle" class="modal-title">Add Event</h4>
            </div>
            <input id="editEventId" type="hidden" value="" />
            <div class="modal-body form-horizontal">
                <form id="form-addevent">
                    <div class="form-group">
                        <label class = "control-label col-md-4 required">Date</label>
                        <div class="col-md-8">
                            <input class="form-control text-box single-line" id="eventDatePicker" name="eventDate" type="text" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class = "control-label col-md-4 required">Time</label>
                        <div class="col-md-8">
                            @Html.DropDownListFor(model => model.TimeSelection, new SelectList(Model.Time, "Value", "Text"), null, new { @class = "form-control", @id = "timeDropDown" })
                        </div>
                    </div>
                    <div class="form-group">
                        <label class = "control-label col-md-4 required">Location</label>
                        <div class="col-md-8">
                            <input class="form-control text-box single-line" id="location" name="Location" type="text" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class = "control-label col-md-4 required">Details</label>
                        <div class="col-md-8">
                            <textarea class="form-control" rows="2" id="title" name="Title"></textarea>
                        </div>
                    </div>
                </form>
                <label class="required">Required</label>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="saveevent-button">Save changes</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="messageModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 id="messageModalTitle" class="modal-title"></h4>
            </div>
            <div id="messageModalBody" class="modal-body"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script src="~/Scripts/jquery-ui.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/calendar.js"></script>
<script src="~/Scripts/portfolio.js"></script>
<script src="~/Scripts/blackjack.js"></script>
<script>
    $(document).ready(function () {
        var loggedIn=@User.Identity.IsAuthenticated.ToString().ToLower();
        if (loggedIn==true) {
            $('.logged-in').show();
            $('.logged-out').hide();
        }
        else if (loggedIn==false) {
            $('.logged-in').hide();
            $('.logged-out').show();
        }
    });
    $(window).load(function() {
        $.ajax({
            type: "post",
            url: "/Users/InitializeEF",
            success: function (data) {
            }
        });
    });
</script>
